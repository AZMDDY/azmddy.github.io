# 进程

> 操作系统为正在允许的程序提供的抽象，就是所谓的进程。

## 进程的机器状态

进程的机器状态就是程序运行时可以读取或更新内容。包括：

+ 内存。正在运行的程序的指令存在内存中，它读取和写入的数据也在内存中，也就是说进程可访问的地址空间也是进程的一部分。
+ 寄存器。有许多指令都明确的读取或更新寄存器，它们对于程序指令很重要。
+ I/O设备。程序也经常访问I/O设备。

## 进程的创建

操作系统创建进程的步骤：

+ 将代码和静态数据加载到进程的内存地址空间中。程序最开始是以可执行文件的形式存放在磁盘中，现代操作系统在加载时，仅加载程序在执行期间所需要代码和数据片段。
+ 为程序的运行时栈分配内存。C/C++程序使用栈存放局部变量、函数参数、返回地址等。
+ 为程序的堆分配内存。在C/C++程序中，堆用于显式分配内存。
+ 初始化任务。初始化I/O等。
+ 启动程序。在入口处运行，也就是main()，通过跳转到main，OS将CPU的控制权转移到新的进程中，从而程序开始执行。

## 进程的状态

+ 运行状态：进程正在CPU上执行。
+ 就绪状态：进程已经准备好了，但还没有被CPU执行。
+ 阻塞状态：进程执行了某个动作后，需要等待其他事件发生才会准运行。
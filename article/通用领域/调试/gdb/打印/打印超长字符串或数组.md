# 打印超长字符串或数组

使用gdb时，可能会遇到打印超长字符串或数组显示不完成的问题。

例如：

```cpp
// longstr.cpp
#include <iostream>
using namespace std;
int main(int argc, char** argv)
{
    char str[] = "http://azmddy.top/article/;http://azmddy.top/article/%E9%80%9A%E7%94%A8%E9%A2%86%E5%9F%9F/"
                 "%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C++/%E7%89%B9%E6%80%A7/"
                 "%E6%8C%87%E9%92%88%E5%92%8C%E6%95%B0%E7%BB%84%E7%9A%84%E5%8C%BA%E5%88%AB.html;http://azmddy.top/"
                 "article/%E9%80%9A%E7%94%A8%E9%A2%86%E5%9F%9F/"
                 "%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%E4%B8%8E%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/";
    cout << str << endl;
    return 0;
}
```

我们直接使用`p str`,会发现字符串显示不全。

![image-20220301210537893](https://cdn.jsdelivr.net/gh/AZMDDY/imgs/img/image-20220301210537893.png)

我们可以通过`show print elements` 查看字符串字符和数组元素显示的最大长度。

![image-20220301210906282](https://cdn.jsdelivr.net/gh/AZMDDY/imgs/img/image-20220301210906282.png)



我们可以通过`set print elements 0`关闭这个限制。这样就能打印出完成的字符串信息。

![image-20220301211022123](https://cdn.jsdelivr.net/gh/AZMDDY/imgs/img/image-20220301211022123.png)



当然我们也可以设置自定义的长度，打印字符串前面一些必要的字符。`set print elements 100`。

![image-20220301211221813](https://cdn.jsdelivr.net/gh/AZMDDY/imgs/img/image-20220301211221813.png)




(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{404:function(a,e,r){"use strict";r.r(e);var s=r(4),t=Object(s.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"安装rancher-v2-5-12"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装rancher-v2-5-12"}},[a._v("#")]),a._v(" 安装rancher(v2.5.12)")]),a._v(" "),e("ol",[e("li",[e("p",[a._v("准备Linux主机：准备一台已安装64位Ubuntu 16.04或18.04的Linux主机（或其他"),e("a",{attrs:{href:"https://rancher.com/support-maintenance-terms/all-supported-versions/rancher-v2.3.4/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Rancher所支持的Linux发行版"),e("OutboundLink")],1),a._v("），要求至少4GB内存。在该主机上安装"),e("a",{attrs:{href:"https://rancher.com/support-maintenance-terms/all-supported-versions/rancher-v2.3.4/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Rancher支持的Docker版本"),e("OutboundLink")],1),a._v("。")])]),a._v(" "),e("li",[e("p",[a._v("在主机上执行以下Docker命令，完成Rancher的安装与运行:")])])]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--privileged")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("unless-stopped "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v(":80 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("443")]),a._v(":443 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("主机路径"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(":/var/lib/rancher/ rancher/rancher:v2.5.12\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("这样安装的话，并没有配置ssl证书，会在浏览器的地址栏上显示不安全。")]),a._v(" "),e("p",[a._v("如果购买了域名，可以到服务商申请免费的证书；如果没有的话，可以自签名证书，然后通过下面命令安装Rancher。")]),a._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("  "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("unless-stopped "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("31543")]),a._v(":80 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("31544")]),a._v(":443 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /home/volume/cert/cert.pem:/etc/rancher/ssl/cert.pem "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /home/volume/cert/key.pem:/etc/rancher/ssl/key.pem "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /home/volume/rancher:/var/lib/rancher/ "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--privileged")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  rancher/rancher:v2.5.12 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  --no-cacerts\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br")])])])}),[],!1,null,null,null);e.default=t.exports}}]);
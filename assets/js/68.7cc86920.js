(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{560:function(e,s,r){"use strict";r.r(s);var n=r(22),a=Object(n.a)({},(function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"安装rancher-v2-5-12"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装rancher-v2-5-12"}},[e._v("#")]),e._v(" 安装rancher(v2.5.12)")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("准备Linux主机：准备一台已安装64位Ubuntu 16.04或18.04的Linux主机（或其他"),r("a",{attrs:{href:"https://rancher.com/support-maintenance-terms/all-supported-versions/rancher-v2.3.4/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Rancher所支持的Linux发行版"),r("OutboundLink")],1),e._v("），要求至少4GB内存。在该主机上安装"),r("a",{attrs:{href:"https://rancher.com/support-maintenance-terms/all-supported-versions/rancher-v2.3.4/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Rancher支持的Docker版本"),r("OutboundLink")],1),e._v("。")])]),e._v(" "),r("li",[r("p",[e._v("在主机上执行以下Docker命令，完成Rancher的安装与运行:")])])]),e._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" run --privileged -d --restart"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("unless-stopped -p "),r("span",{pre:!0,attrs:{class:"token number"}},[e._v("80")]),e._v(":80 -p "),r("span",{pre:!0,attrs:{class:"token number"}},[e._v("443")]),e._v(":443 -v "),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("主机路径"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(":/var/lib/rancher/ rancher/rancher:v2.5.12\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])]),r("p",[e._v("这样安装的话，并没有配置ssl证书，会在浏览器的地址栏上显示不安全。")]),e._v(" "),r("p",[e._v("如果购买了域名，可以到服务商申请免费的证书；如果没有的话，可以自签名证书，然后通过下面命令安装Rancher。")]),e._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[e._v("  "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" run -d --restart"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("unless-stopped "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -p "),r("span",{pre:!0,attrs:{class:"token number"}},[e._v("31543")]),e._v(":80 -p "),r("span",{pre:!0,attrs:{class:"token number"}},[e._v("31544")]),e._v(":443 "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -v /home/volume/cert/cert.pem:/etc/rancher/ssl/cert.pem "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -v /home/volume/cert/key.pem:/etc/rancher/ssl/key.pem "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  -v /home/volume/rancher:/var/lib/rancher/ "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --privileged "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  rancher/rancher:v2.5.12 "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --no-cacerts\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br"),r("span",{staticClass:"line-number"},[e._v("8")]),r("br")])])])}),[],!1,null,null,null);s.default=a.exports}}]);